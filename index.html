<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Do you really need jQuery?</title>
<meta name="description" content="Do you need jQuery in every project?">
<meta name="author" content="Craig Buckler">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="css/reveal.min.css">
<link rel="stylesheet" href="css/theme/default.css" id="theme">
<link rel="stylesheet" href="lib/css/zenburn.css">
<!--[if lt IE 9]>
<script src="lib/js/html5shiv.js"></script>
<![endif]-->
<style>
.reveal .hide { display: none; }
.reveal .dim { color: #888; }
.reveal h1 { margin-bottom: 0.3em; }
.reveal section img.noback { background-color: transparent; border: 0 none; box-shadow: none; }
.reveal section p.left { text-align: left; }
.reveal table { margin: 2em auto; }
.reveal table.grid, .reveal table.grid td { padding: 5px 10px; border: 1px solid #666; border-collapse: collapse; }
.reveal table.tests th, .reveal table.tests td { width: 25%; text-align: right; }
.reveal td strong, .reveal table.tests td span { color: #ff0; }
</style>
</head>
<body>

<div class="reveal"><div class="slides">

  <section>
    <h1>Do you really<br />need jQuery?</h1>

    <h2>By Craig Buckler</h2>
    <p>
      <a href="http://twitter.com/craigbuckler">@craigbuckler</a><br />
      <a href="http://craigbuckler.com/">craigbuckler.com</a><br />
      <a href="http://www.sitepoint.com/">SitePoint.com</a><br />
    </p>

    <aside class="notes">

      <p>Hello! My name's Craig Buckler and I'm a freelance web consultant from Devon.</p>

      <p>I'm a full-stack developer but primarily concentrate on the front-end.</p>

	  <p>I also:</p>

      <ul>
		<li>write articles for SitePoint</li>
        <li>create training videos</li>
        <li>talk at conferences</li>
        <li>prostitute myself to whoever needs me</li>
      </ul>

      <p>My name's fairly distinct so you can find me on the usual websites, social networks and GitHub.</p>

    </aside>

  </section>


  <section>
    <h1>Do you use</h1>

    <img src="assets/images/jquery.png" alt="jQuery" class="noback" />

    <h1>?</h1>

    <aside class="notes">

      <p>Before we start, I'd like some idea about how many people here use jQuery.</p>

      <p>Could all developers who do some amount of front-end work please put their hands up.</p>

      <p>And keep your hand up if you use jQuery.</p>

      <p>Ooo, this could be a tough crowd!</p>

      <p>Moving on, this is what we'll discuss today...</p>

    </aside>

  </section>


  <section>
    <h1>We'll discuss&hellip;</h1>

    <ul>
      <li>what jQuery is</li>
      <li class="fragment">why it became popular</li>
      <li class="fragment">reasons to reconsider using it</li>
    </ul>

    <aside class="notes">

      <p>What jQuery actually is</p>

      <p>How it became so popular</p>

      <p>and the reasons you should or shouldn't use it.</p>

      <p>All these slides and notes are available online and I'll give you a link at the end.</p>

    </aside>

  </section>


  <section data-background="assets/images/punch.jpg">
    <h1>But we won't</h1>

    <h2>bash jQuery</h2>

    <aside class="notes">

      <p>Now it's become trendy to moan about jQuery</p>

      <p>but I want make it clear that I still love it and there are situations when it can be very useful.</p>

      <p>in fact, I love it so much...</p>

    </aside>

  </section>


  <section data-background="assets/images/money.png" data-background-size="auto" data-background-repeat="repeat">
    <h1>Shameless plug</h1>

    <img src="assets/images/jquery-course.png" alt="jQuery course" class="noback" style="width:300px;" />

    <p><a href="http://tinyurl.com/jquery-course">tinyurl.com/jquery-course</a></p>

    <aside class="notes">

      <p>that I even created a jQuery video course.</p>

      <p>which available from all good online training stores...</p>

      <p>and probably a few bad ones too</p>

    </aside>

  </section>


  <section>
    <h1>What is jQuery?</h1>

    <ul>
      <li class="fragment">a library written in JavaScript&hellip;</li>
      <li class="fragment">&hellip;to help browser-based JavaScript development</li>
    </ul>

  </section>


  <section>
    <h1>jQuery is not&hellip;</h1>

    <ul>
      <li class="fragment">a language</li>
      <li class="fragment">essential</li>
    </ul>

    <aside class="notes">

      <p>It's not:</p>

      <p><strong>{NEXT}</strong> A language in it's own right.</p>

      <p>jQuery syntax is JavaScript syntax.</p>

      <p>It has a slightly different approach in some respects but it's still native JavaScript below the surface.</p>

      <p><strong>{NEXT}</strong> Neither is jQuery an essential part of modern web development.</p>

      <p>Although you'd be forgiven for thinking so.</p>

      <p>Like any library or framework, jQuery can help you write code</p>

      <p>but the same functionality can be implemented without jQuery if you need to do so.</p>

    </aside>

  </section>


  <section>
    <h1>Why we use jQuery?</h1>

    <p class="left">In 2006:</p>

    <ul>
      <li>client-side heavy applications were new</li>

      <li class="fragment">but development was tough<br />
        <img src="assets/images/ie-error.png" alt="IE error" />
      </li>

      <li class="fragment">browsers were buggy and inconsistent</li>
      <li class="fragment">for many, JavaScript was new and strange</li>
    </ul>

    <aside class="notes">

      <p>Let's look at the history of jQuery.</p>

      <p>In 2006, developers had a renewed interest in client-side browser applications.</p>

      <p>Ajax techniques were increasingly popular. And the first modern web apps such as GMail and Google Maps had started to appear.</p>

      <p>So connected web applications had started to offer desktop-like interface functionality and speed.</p>

      <p><strong>{NEXT}</strong> But behind the scenes, browsers were a hostile environment.</p>

      <p>Microsoft had abandoned Internet Explorer but it was still the most-used application.</p>

      <p>There were very few tools and the best you could hope for was cryptic messages like this.</p>

      <p><strong>{NEXT}</strong> we had a couple of competing browsers such as Firefox and Opera</p>

      <p>but they adopted newer W3C standards and weren't necessarily compatible with IE's way of doing things.</p>

      <p><strong>{NEXT}</strong> also, for many developers coming from backend or desktop languages, JavaScript seemed a little weird and difficult to comprehend.</p>

      <p>To be fair, this wasn't totally JavaScript's fault - the browser APIs caused some confusion.</p>

      <p>But few of us cared about that distinction.</p>

    </aside>

  </section>


  <section>
    <h1>JavaScript libraries</h1>

    <img src="assets/images/js-library.svg" alt="JavaScript library" class="noback" />

    <aside class="notes">

      <p>In 2006 developers had a handful of desktop browsers to contend with.</p>

      <p>But the iPhone arrived in 2007 and Android appeared soon after. Each had different browsers, different APIs and different bugs.</p>

      <p>So developers started to create helper functions which smoothed over browser inconsistencies.</p>

      <p>And these functions were wrapped into into libraries and released into the community for free.</p>

      <p>We saw the launch of projects such as Prototype, MooTools which made development easier.</p>

    </aside>

  </section>


  <section>
    <h1>The rise of jQuery</h1>

    <pre><code>// a single object for everything
$;</code></pre>

    <pre class="fragment"><code>// CSS selector syntax
$("#main-section .name");</code></pre>

    <pre class="fragment"><code>// concise method chaining
$("#main-section .name").text("hello").addClass("new").slideDown();</code></pre>

    <aside class="notes">

      <p>Now jQuery arrived a little late to the party.</p>

      <p>It's developer - John Resig -  learned from the competing libraries which had started to become quite large and cumbersome.</p>

      <p>He devised a number of elegant features.</p>

      <p>First jQuery offered a single object - normally represented by the dollar sign.</p>

      <p>It was simple and tied most methods to the HTML elements you were interacting with.</p>

      <p><strong>{NEXT}</strong> next, you could select HTML elements from the DOM using CSS selectors.</p>

      <p>This seems obvious now but it was revolutionary at the time.</p>

      <p><strong>{NEXT}</strong> jQuery offered method chaining.</p>

      <p>Most methods returned the jQuery object itself which meant it can be passed into another method.</p>

      <p>So here we're selecting a number of HTML elements, setting the text to "Hello", adding a class, and running a slideDown animation.</p>

      <p>It's concise. It's easy to read. Even developers with little experience could understand it.</p>

      <p>This made jQuery phenomenally successful.</p>

    </aside>

  </section>


  <section data-background="assets/images/statistics.jpg">
    <h1>jQuery usage in 2014</h1>

    <p>How many websites use jQuery now?</p>

    <table>
      <tr><td>top million websites</td><td><strong class="fragment">59.1%</strong></td></tr>
      <tr class="fragment"><td>top 10,000 websites</td><td><strong class="fragment">77.2%</strong></td></tr>
      <tr class="fragment"><td>proportion of usage</td><td><strong class="fragment">94.3%</strong></td></tr>
    </table>

    <p>sources: <a href="http://trends.builtwith.com/javascript/jQuery">BuiltWith.com</a> and <a href="http://w3techs.com/">w3techs.com</a></p>

    <aside class="notes">

      <p>How successful?</p>

      <p>If we take the top 1 million websites according to traffic volumes - </p>

      <p>what percentage do you think use jQuery? Anyone...</p>

      <p><strong>{NEXT}</strong> it's almost 60 percent</p>

      <p><strong>{NEXT}</strong> so what about the top 10,000 websites? Any guesses?</p>

      <p><strong>{NEXT}</strong> it rises to almost 80%</p>

      <p><strong>{NEXT}</strong> finally, if we only look at sites which are using a JavaScript library, what proportion use jQuery?</p>

      <p><strong>{NEXT}</strong> it's 94.3 percent. jQuery wins. Everyone else might as well give up.</p>

    </aside>

  </section>


  <section>
    <h1>jQuery:</h1>

    <table class="grid">
      <tr><td><h2>the good parts</h2></td><td class="hide"><h2>the bad parts</h2></td></tr>
      <tr><td class="fragment">CSS selectors</td><td class="hide">CSS selectors</td></tr>
      <tr><td class="fragment">method chaining</td><td class="hide">method chaining</td></tr>
      <tr><td class="fragment">cross-browser support</td><td class="hide">cross-browser support</td></tr>
      <tr><td class="fragment">shallow learning curve</td><td class="hide">shallow learning curve</td></tr>
      <tr><td class="fragment">great documentation</td><td class="hide">great documentation</td></tr>
      <tr><td class="fragment">covers core APIs</td><td class="hide">covers core APIs</td></tr>
    </table>

    <aside class="notes">

      <p>So let's look at the good parts of jQuery.</p>

      <p><strong>{NEXT}</strong> selecting DOM nodes using CSS selectors was inspired.</p>

      <p>jQuery's Sizzle engine is very advanced and often has a higher level of CSS selector support than that natively implemented in browsers.</p>

      <p><strong>{NEXT}</strong> method chaining offers a consistent and easy to read API</p>

      <p><strong>{NEXT}</strong> you rarely worry about cross-browser support because jQuery works everywhere</p>

      <p><strong>{NEXT}</strong> it's easy to learn most people can string a few methods together and do something useful</p>

      <p><strong>{NEXT}</strong> the online documentation is great and you can find answers everywhere</p>

      <p><strong>{NEXT}</strong> it covers the core browser APIs:</p>

      <p>that's DOM traversal, node manipulation, event handling, Ajax with a little animation thrown in</p>

    </aside>

  </section>


  <section>
    <h1>The Web in 2014</h1>

    <ul>
      <li class="fragment">IE6 and IE7 are dead!</li>
      <li class="fragment">IE8 is dying rapidly</li>
      <li class="fragment">IE has (mostly) caught up</li>
      <li class="fragment">all vendors have adopted HTML5 standards</li>
      <li class="fragment">the top browsers are closer than ever&hellip;</li>
      <li class="fragment">&hellip;even on mobile</li>
      <li class="fragment">vendors are copying useful jQuery functions</li>
    </ul>

    <aside class="notes">

      <p>the web has changed since jQuery was introduced 8 years ago.</p>

      <p><strong>{NEXT}</strong> IE6 and 7 are rarely a problem any longer. Yay!</p>

      <p><strong>{NEXT}</strong> unless you're unlucky, IE8 usage has dropped below 1 in 20 users for most sites.</p>

      <p>and the browser is rarely as problematic as its predecessors.</p>

      <p>Be aware that jQuery 2 has dropped support for IE8 and below.</p>

      <p><strong>{NEXT}</strong> you may not believe me but IE11 is a good browser (controversial!)</p>

      <p>It's fast and it won't give you more problems than any other browser.</p>

      <p>IE9 and 10 are mostly OK; they're just missing support for CSS3 animation and newer HTML5 APIs</p>

      <p><strong>{NEXT}</strong> all the vendors are working together to ensure compatibility. It doesn't always work but...</p>

      <p><strong>{NEXT}</strong> the top applications are close than they've ever been</p>

      <p><strong>{NEXT}</strong> and that's true even on mobile devices</p>

      <p><strong>{NEXT}</strong> and finally, the vendors understand the popularity of jQuery - and they've started to add similar APIs to the browsers</p>

    </aside>

  </section>


  <section>
    <h1>jQuery:</h1>

    <table class="grid">
      <tr><td class="dim"><h2>the good parts</h2></td><td><h2>the bad parts</h2></td></tr>
      <tr><td class="dim">CSS selectors</td><td>CSS selectors</td></tr>
      <tr><td class="dim">method chaining</td><td class="hide">method chaining</td></tr>
      <tr><td class="dim">cross-browser support</td><td class="hide">cross-browser support</td></tr>
      <tr><td class="dim">shallow learning curve</td><td class="hide">shallow learning curve</td></tr>
      <tr><td class="dim">great documentation</td><td class="hide">great documentation</td></tr>
      <tr><td class="dim">covers core APIs</td><td class="hide">covers core APIs</td></tr>
    </table>

    <aside class="notes">

      <p>So the problems jQuery solved for us don't necessarily exist today:</p>

      <p><strong>{NEXT}</strong> you no longer need jQuery to locate DOM nodes by CSS selectors.</p>

    </aside>

  </section>


  <section data-transition="none">
    <h1>Native CSS Selectors</h1>

    <pre><code class="javascript">// returns an array-like NodeList
var n = document.querySelectorAll("#myid .myclass");

// returns the first matching element
var f = document.querySelector("#myid .myclass");
    </code></pre>

    <aside class="notes">

      <p>All modern browsers have implemented methods named querySelector and querySelectorAll which find nodes using CSS selectors just like jQuery.</p>

      <p>Does anyone know which version of Internet Explorer first implemented this?</p>

      <p>It's IE8 - although you can only use simpler CSS2.1 selectors</p>

      <p>Below the surface, this is what jQuery now uses when querySelectorAll is natively supported.</p>

      <p>In effect jQuery is a simple wrapper around this single method call.</p>

      <p>So going back to our bad parts...</p>

    </aside>

  </section>


  <section data-transition="none">
    <h1>jQuery:</h1>

    <table class="grid">
      <tr><td class="dim"><h2>the good parts</h2></td><td><h2>the bad parts</h2></td></tr>
      <tr><td class="dim">CSS selectors</td><td>CSS selectors</td></tr>
      <tr><td class="dim">method chaining</td><td>method chaining</td></tr>
      <tr><td class="dim">cross-browser support</td><td class="fragment">cross-browser support</td></tr>
      <tr><td class="dim">shallow learning curve</td><td class="fragment">shallow learning curve</td></tr>
      <tr><td class="dim">great documentation</td><td class="fragment">great documentation</td></tr>
      <tr><td class="dim">covers core APIs</td><td class="fragment">covers core APIs</td></tr>
    </table>

    <aside class="notes">

      <p><strong>{NEXT}</strong> method chaining looks cool until you realise that almost every method in the chain loops through every selected node. If you have three methods, that's three loops through the same nodes.</p>

      <p>A single loop should be far more effective.</p>

      <p><strong>{NEXT}</strong> next: jQuery doesn't support every browser.</p>

      <p>It's great until you encounter a problem with a specific device. It doesn't happen often but when it does, it's difficult to fix.</p>

      <p><strong>{NEXT}</strong> as you saw with chaining, the shallow learning curve allows you to implement functionality which works but is spectacularly inefficient.</p>

      <p>Unfortunately, the code can look concise because jQuery hides the implementation.</p>

      <p><strong>{NEXT}</strong> what can be wrong with great documentation?</p>

      <p>If you ask a JavaScript question on StackOverflow, 99 times out of 100 you'll get the answer <em>"seriously dude, just use jQuery"</em>. That's not necessarily helpful.</p>

      <p><strong>{NEXT}</strong> finally, jQuery only covers the core APIs.</p>

      <p>But these are consistent in modern browsers so we don't need so much assistance.</p>

      <p>There are dozens of other HTML5 APIs jQuery won't help you with.</p>

      <p>If you're totally reliant on it, you may struggle to use a new API because your jQuery crutch has been kicked away.</p>

    </aside>

  </section>


  <section>
    <h1>jQuery Misconceptions</h1>

    <ul>
      <li class="fragment">jQuery is perfect</li>
      <li class="fragment">write less, do more</li>
      <li class="fragment">jQuery is only 30Kb</li>
      <li class="fragment">learning JavaScript isn't necessary</li>
    </ul>

    <p class="fragment"><br /><em>Are we using jQuery out of habit rather than necessity?</em></p>

    <aside class="notes">

      <p>But because jQuery is so successful, it's led to several misconceptions within the developer community.</p>

      <p><strong>{NEXT}</strong> jQuery has bugs and issues like any other project. It is robust, but don't expect it to be fault-free.</p>

      <p><strong>{NEXT}</strong> this is jQuery's catchphrase but it's not necessarily true today.</p>

      <p><strong>{NEXT}</strong> minified and gzipped jQuery is only 32K. That's nothing when compared with an image.</p>

      <p>But it's important to realise the uncompressed source is nearer 300K and that has a processing overhead.</p>

      <p>Few of use use more than a fraction of jQuery's functionality yet the whole library is referenced in every object you create.</p>

      <p><strong>{NEXT}</strong> finally, the classic: <em>"learning JavaScript isn't necessary because jQuery exists"</em></p>

      <p>jQuery helps with a shrinking subset of browser functionality.</p>

      <p>but many web developers still avoid learning JavaScript.</p>

      <p>And don't forget that jQuery may not be around forever. Ask any YUI developer...</p>

      <p><strong>{NEXT}</strong> So are we using jQuery - or indeed any JavaScript library - out of habit rather than necessity? I've certainly been guilty of that.</p>

    </aside>

  </section>


  <section>
    <h1>Raw JavaScript</h1>

    <ul>
      <li class="fragment">has become considerably easier</li>
      <li class="fragment">has become cool (again)</li>
      <li class="fragment">it's considerably faster</li>
    </ul>

    <aside class="notes">

      <p>So let's look at the benefits of raw JavaScript.</p>

      <p><strong>{NEXT}</strong> the core browser APIs are consistent now that oldIEs have died. It's far easier than it used to be.</p>

      <p><strong>{NEXT}</strong> everyone's jumping on the JavaScript bandwagon. It's can be used in places outside the browser such as server-side Node.js, operating systems such as Chrome and Firefox OS, and even in embedded systems.</p>

      <p><strong>{NEXT}</strong> and finally, it's fast. Far faster than using jQuery which, as we've seen, is usually a wrapper around native methods.</p>

      <p>This performance is increasingly important.</p>

      <p>{QUESTION} How many you are working on sites with a responsive web design?</p>

      <p>We spend many development hours making a site design responsive but put relatively little effort into efficiency or performance. The design may be responsive but the user experience isn't.</p>

      <p>So to prove this, let's look at the performance gains you can make by removing your jQuery shackles and running naked and free in the JavaScript world!</p>

    </aside>

  </section>


  <section>
    <h1>Selector test</h1>

    <p><a href="http://jsperf.com/digpen-dom-selector-test/3">TEST</a>: find elements containing Digpen speaker names:</p>

    <pre><code class="javascript">// 1: jQuery
$("#programme .name");

// 2: querySelectorAll (IE8+)
document.querySelectorAll("#programme .name");

// 3: getElementsByClassName (IE9+)
document.getElementById("programme").getElementsByClassName("name");</code></pre>

    <table class="tests fragment">
      <tr><th>test (ops/sec)</th><th>Chrome 37</th><th>Firefox 32</th><th>IE11</th></tr>
      <tr><td>jQuery</td><td>16,250</td><td>5,300</td><td>4,600</td></tr>
      <tr class="fragment"><td>querySelectorAll</td><td>18,600 <span>(+14%)</span></td><td>6,100 <span>(+15%)</span></td><td>5,200 <span>(+13%)</span></td></tr>
      <tr class="fragment"><td>ByTagName</td><td>3.8m <span>(234x)</span></td><td>4.7m <span>(892x)</span></td><td>730K <span>(159x)</span></td></tr>
    </table>

    <aside class="notes">

      <p>For all these tests I've taken 500 lines of HTML code from the digpen.com website and run various JavaScript tests at jsperf.com.</p>

      <p>So we're going to find all Digpen speaker names by finding the elements with a class of 'name' within a section with the id of 'programme'.</p>

      <p><strong>{NEXT}</strong> Here are the results for jQuery as a number of operations per second. I used a mid-range Windows PC but I also verified Chrome and Firefox on a Mac.</p>

      <p><strong>{NEXT}</strong> So if we use querySelectorAll, we get a 15% performance boost. It's not huge but that's primarily because jQuery uses querySelectorAll when it's available.</p>

      <p>But can anyone guess how much faster getElementsByClassName will be?</p>

      <p><strong>{NEXT}</strong> It's hundreds of times faster. Almost 1,000 times faster on Firefox.</p>

      <p>My initial reaction was that I'd written some dodgy testing code but I've verified it outside of jsperf using 100 thousand loops. If anything, native JavaScript was more than 2,000 faster and even querySelectorAll was almost twice as fast as jQuery.</p>

      <p>Undoubtedly the browsers are caching nodes and the boost will differ across pages, platforms and applications.</p>

      <p>You're also unlikely to be doing such intensive node selection but it illustrates just how fast raw JavaScript can be.</p>

    </aside>

  </section>


  <section>
    <h1>Class manipulation</h1>

    <p><a href="http://jsperf.com/digpen-class-manipulation">TEST</a>: add two classes, toggle one &amp; remove other on all LI's</p>

    <pre><code class="javascript">// 1: jQuery single
$li.addClass("test1"); $li.addClass("test2");
$li.toggleClass("test2"); $li.removeClass("test1");</code></pre>

    <pre class="fragment"><code class="javascript">// 2: jQuery chain
$li.addClass("test1").addClass("test2").toggleClass("test2").removeClass("test1");</code></pre>

    <pre class="fragment"><code class="javascript">// 3: classList API, multiple loops
for (i = 0; i &lt; li.length; i++) { li[i].classList.add("test1"); }
for (i = 0; i &lt; li.length; i++) { li[i].classList.add("test2"); }
for (i = 0; i &lt; li.length; i++) { li[i].classList.toggle("test2"); }
for (i = 0; i &lt; li.length; i++) { li[i].classList.remove("test1"); }</code></pre>

    <pre class="fragment"><code class="javascript">// 4: classList API, single loop
for (i = 0; i &lt; li.length; i++) {
  li[i].classList.add("test1");
  li[i].classList.add("test2");
  li[i].classList.toggle("test2");
  li[i].classList.remove("test1");
}</code></pre>

    <aside class="notes">

      <p>In the next test we're going to modify the styles of all LIST elements on the page: we'll add two class names, toggle one and removing the other.</p>

      <p>Manipulating class names is something you do regularly when building client-side applications.</p>

      <p>In all these tests the HTML elements we're working on have been cached so there's no additional overhead.</p>

      <p><strong>{NEXT}</strong> for the first test, we'll run jQuery methods as separate commands.</p>

      <p><strong>{NEXT}</strong> in the second test, we'll improve this by chaining the methods together.</p>

      <p><strong>{NEXT}</strong> in the next test, we're going to use the new classList API which is available in IE10 upwards and offers similar add, remove and toggle methods.</p>

      <p>We don't have the benefit of jQuery doing the loop for us, so we'll do four loops - one for each change of class.</p>

      <p><strong>{NEXT}</strong> and in the final test, we'll still use the classList API but do everything in a single loop which you'd expect to be more efficient.</p>

    </aside>

  </section>


  <section>
    <h1>Class manipulation</h1>

    <table class="tests">
      <tr><th>test (ops/sec)</th><th>Chrome 37</th><th>Firefox 32</th><th>IE11</th></tr>

      <tr><td>jQuery single</td><td>1,650</td><td>390</td><td>620</td></tr>

      <tr><td>jQuery chain</td><td>1,610</td><td>390</td><td>600</td></tr>

      <tr class="fragment"><td>4 classList loops</td><td>2,060 <span>(+24%)</span></td><td>820 <span>(2.1x)</span></td><td>1,000 <span>(+60%)</span></td></tr>

      <tr class="fragment"><td>1 classList loop</td><td>2,920 <span>(+26%)</span></td><td>600 <span>(+54%)</span></td><td>1,100 <span>(+77%)</span></td></tr>
    </table>

    <aside class="notes">

      <p>So for the results for jQuery in operations per second show very little difference between running multiple or chained methods.</p>

      <p>Interestingly, Firefox seems quite slow at class name handling.</p>

      <p><strong>{NEXT}</strong> but even if you run individual loops with the classList API, you can expect a performance gain of 25% - or twice as fast on Firefox.</p>

      <p>One of the reasons for this boost is because jQuery doesn't use the classList API itself and determines which classes need to be added and removed using string analysis and concatenation.</p>

      <p><strong>{NEXT}</strong> If we look at the single loop, we get a small boost on all browsers except Firefox which, for some reason, appears to prefer multiple loops!</p>

    </aside>

  </section>


  <section>
    <h1>Text change test</h1>

    <p><a href="http://jsperf.com/digpen-text-changing">TEST</a>: change all speaker names</p>

    <pre><code class="javascript">// 1: jQuery
$name.text("Someone Else");
$name.text("Another Person");

// 2: textContent (IE9)
for (var i = 0; i &lt; name.length; i++) {
  name[i].textContent = "Someone Else";
  name[i].textContent = "Another Person";
}</code></pre>

    <table class="tests fragment">
      <tr><th>test (ops/sec)</th><th>Chrome 37</th><th>Firefox 32</th><th>IE11</th></tr>

      <tr><td>jQuery</td><td>3,710</td><td>2,340</td><td>238</td></tr>

      <tr class="fragment"><td>textContent</td><td>9,740 <span>(2.6x)</span></td><td>12,280 <span>(5.2x)</span></td><td>1,038 <span>(4.4x)</span></td></tr>
    </table>

    <aside class="notes">

      <p>In the next test we're changing the text of all the speaker names.</p>

      <p>The first test uses jQuery's text method.</p>

      <p>The second test again requires our own loop but runs the node textContent method which is available in IE9 and above.</p>

      <p><strong>{NEXT}</strong> so first we have the jQuery results. IE's performance is shockingly slow.</p>

      <p><strong>{NEXT}</strong> but by using the textContent method, it's at least twice as fast. In fact, it allows Firefox to overtake Chrome's performance.</p>

    </aside>

  </section>


  <section>
    <h1>DOM change test</h1>

    <p><a href="http://jsperf.com/digpen-dom-node-insertion">TEST</a>: add and remove a child node from all speaker names</p>

    <pre><code class="javascript">// 1: jQuery
$name.append("&lt;strong&gt;confirmed&lt;strong&gt;");
$("strong", $name).remove();

// 2: DOM methods
var i, newelement = document.createElement("strong");
newelement.appendChild(document.createTextNode("confirmed"));
for (i = 0; i &lt; name.length; i++) { name[i].appendChild(newelement.cloneNode(true)); }
for (i = 0; i &lt; name.length; i++) { name[i].removeChild(name[i].lastChild); }
}</code></pre>

    <table class="tests fragment">
      <tr><th>test (ops/sec)</th><th>Chrome 37</th><th>Firefox 32</th><th>IE11</th></tr>

      <tr><td>jQuery</td><td>3,050</td><td>2,000</td><td>310</td></tr>

      <tr class="fragment"><td>textContent</td><td>6,260 <span>(2x)</span></td><td>8,880 <span>(4.4x)</span></td><td>490 <span>(+59%)</span></td></tr>
    </table>

    <aside class="notes">

      <p>In this final test we're going to add a child node to all speakers to show that they've been confirmed and then remove it again.</p>

      <p>This is quite simple in jQuery.</p>

      <p>For the native test, I decided to use clunky DOM creation methods rather than innerHTML which is what jQuery uses and is normally faster. I also used two loops with element cloning and child node removal in an attempt to make it as slow as possible.</p>

      <p><strong>{NEXT}</strong> jQuery's results are similar to the text change test with IE's performance being slow again.</p>

      <p><strong>{NEXT}</strong> but despite all this horrible node manipulation code, the native JavaScript is considerably faster - you can expect gains to be twice as fast.</p>

    </aside>

  </section>


  <section>
    <h1>Performance gains</h1>

    <p>Similar gains can be made for:</p>

    <ul>
      <li class="fragment">arrays and forEach loops</li>
      <li class="fragment">event handling</li>
      <li class="fragment">Ajax</li>
    </ul>


    <aside class="notes">

      <p>These gains will be repeated elsewhere:</p>

      <p><strong>{NEXT}</strong> jQuery .each() can be replicated using JavaScript's forEach statement</p>

      <p>and you may be able to use new array methods such as <strong>map</strong> and <strong>every</strong> rather than the simple loops I used in these tests</p>

      <p><strong>{NEXT}</strong> event handling is consistent across browsers so you won't always need jQuery to handle it</p>

      <p><strong>{NEXT}</strong> and similarly, jQuery's Ajax handling is quite complex.</p>

      <p>it caters for every type of transport and data type you might possibly want to use. But you're unlikely to require them all.</p>

      <p>Also you target IE10 and above you can use XMLHttpRequest2 which has advanced methods for things like progress bars, files and binary data. This currently isn't supported in jQuery.</p>

      <p>There's only one exception I'd make in all this...</p>

    </aside>

  </section>


    <section>
    <h1>Animations</h1>

    <p>Don't bother with jQuery or JavaScript</p>

    <h2>use CSS3</h2>


    <aside class="notes">

      <p>that's animations</p>

      <p>jQuery offers simple slides, fades and scrolling.

      <p>They work in all browsers, but really - just forget jQuery and JavaScript and use CSS3 animations and transformations.</p>

      <p>CSS3 will generally be faster and use fewer resources than whatever you come up with.</p>

      <p>You can also add effects such as rotation and 3D transformations which you could never hope to do in JavaScript alone.</p>

      <p>Now CSS3 animations are simplistic but they're good enough for 99% of the effects we need.</p>

      <p>You don't get fine-grained frame control you'd need for action games, but if you need fast animation, you shouldn't be using a general-purpose library like jQuery.</p>

      <p>There are better options like Velocity or GSAP.</p>

    </aside>

  </section>


  <section>
    <h1>Reasons to retain jQuery</h1>

    <ul>
      <li class="fragment">legacy applications</li>
      <li class="fragment">where IE6/7 support is required</li>
      <li class="fragment">projects using lots of jQuery functionality</li>
      <li class="fragment">quick and dirty projects or prototypes</li>
      <li class="fragment">large teams with varying client-side skills</li>
    </ul>


    <aside class="notes">

      <p>OK, so I'm not going to say you should never use jQuery. It's a great library and you should certainly consider it for every project.</p>

      <p><strong>{NEXT}</strong> there's little point ripping it out of legacy applications unless you have a serious performance issue</p>

      <p><strong>{NEXT}</strong> if you absolutely have to support IE6 and 7, well, I pity you. But using jQuery will help - just remember to stick with version 1.</p>

      <p>You could argue it's good for IE8 support but I'd recommend progressive enhancement rather than trying to get IE8 to behave like a modern browser</p>

      <p><strong>{NEXT}</strong> projects where you're using a high proportion of jQuery functionality; that's all the DOM methods, every Ajax type, IE8 animations. That said, I'm yet to come across a project that does.</p>

      <p><strong>{NEXT}</strong> perhaps you could use it for throwaway prototypes where performance isn't an issue.</p>

      <p>You might also want to use it on projects where the client wants something cheap and quick rather than good ... but that's soul destroying</p>

      <p><strong>{NEXT}</strong> large teams with varying skills is another possibility. But be careful not to choose it because it's the easy option.</p>

      <p>You might be better to train staff or, ahem, hire a freelance client-side consultant.</p>

    </aside>

  </section>


  <section>
    <h1>jQuery alternatives</h1>

    <ul>
      <li><a href="http://zeptojs.com/">Zepto.js</a> - 9Kb</li>
      <li><a href="http://minifiedjs.com/">Minified.js</a> - 4Kb to 8Kb</li>
      <li><a href="https://github.com/remy/min.js">min.js</a> - 600 bytes</li>
      <li>or create a specific, modular build of jQuery</li>
    </ul>


    <aside class="notes">

      <p>If you absolutely cannot live without jQuery's API syntax</p>

      <p>there are some micro-libraries which mimic jQuery without the bulk of stuff you never need</p>

      <p>as you can see, min.js is only 600 bytes and works by wrapping querySelectorAll and event handlers helper methods such as 'on'</p>

      <p>and even jQuery itself offers custom builds so you could, for example, leave out animation methods if you don't need them</p>

      <p>but be wary that some plugins could fail if they depended on those methods.</p>

      <p>but overall, my main advice would be...</p>

    </aside>

  </section>


  <section data-background="assets/images/yoda.jpg">
    <h1>Learn JavaScript<br />You Should</h1>

    <aside class="notes">

      <p>Learn JavaScript and powerful you will become.</p>

      <p>jQuery helps you with subset JavaScript and browser functionality which is shrinking every day.</p>

      <p>With a basic understanding of JavaScript, you can explore the numerous HTML5 APIs and open a new world of possibilities</p>

    </aside>

  </section>


  <section data-background="assets/images/money.png" data-background-size="auto" data-background-repeat="repeat">
    <h1>Another plug</h1>

    <img src="assets/images/javascript-course.png" alt="JavaScript course" class="noback" style="width:300px;" />

    <p><a href="http://tinyurl.com/javascript-course">tinyurl.com/javascript-course</a></p>

    <aside class="notes">

      <p>of course, if you need help learning JavaScript there's no end of books and ahem, video courses available</p>

    </aside>

  </section>


  <section>
    <h1>Thank you<br />for watching</h1>

    <p><a href="http://tinyurl.com/digpen-need-jquery">tinyurl.com/digpen-need-jquery</a></p>
    <img src="assets/images/qrcode.png" style="width:30%" alt="QR code" />
    <p>Any questions?&hellip;</p>

    <aside class="notes">

      <p>Thank you for listening</p>

      <p>The link to this talk is available here</p>

      <p>My name's Craig Buckler</p>

      <p>Does anyone have any questions?</p>

    </aside>

  </section>

</div></div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>
<script>
Reveal.initialize({
  width: 1024,
  height: 768,
  controls: false,
  progress: true,
  history: true,
  center: true,
  theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
  transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none
  dependencies: [
    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
  ]
});
</script>
</body>
</html>
